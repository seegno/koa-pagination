#!/bin/bash
FILES_PATTERN='\.(js)(\..+)?$'
FORBIDDEN='\.only\|debugger'
CMD=$(git diff --cached --name-only | grep -E $FILES_PATTERN | GREP_COLOR='4;5;37;41' xargs grep --color --with-filename --line-number $FORBIDDEN)

if [[ -n "$CMD" ]]; then
    echo $CMD;
    echo -e "\nrejected: please remove references to '$FORBIDDEN' before commiting"
    exit 1
else
    exit 0
fi
